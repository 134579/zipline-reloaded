[tox]
envlist = py{37,38,39}-pandas{11,12}
isolated_build = True
skip_missing_interpreters = True

[gh-actions]
python =
    3.7: py37
    3.8: py38
    3.9: py39

[testenv]
deps =
    pytest
setenv =
    MPLBACKEND = Agg
    COVERAGE_FILE=.coverage.{envname}

changedir = tmp
extras = test
commands =
    py{37,38,39}-pandas11: pip install -vv pandas>=1.1.0,<1.2.0
    py{37,38,39}-pandas12: pip install -vv pandas>=1.2.0,<1.3.0
    pytest {toxinidir}/tests
